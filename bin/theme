#!/bin/bash

set -e

read -p "Please enter your new WordPress theme name: " ORIGINAL

HYPHENATED=`echo "${ORIGINAL}" | tr " " -`
echo $HYPHENATED

LOWERCASE=`echo "${HYPHENATED}" | tr '[A-Z]' '[a-z]'`
echo $LOWERCASE

UPPERCASE=`echo "${HYPHENATED}" | tr '[a-z]' '[A-Z]'`
echo $UPPERCASE

TITLECASE=`echo "${HYPHENATED}" | tr '-' '\n' | awk '{printf "%s%s", toupper(substr($0,0,1)), substr($0,2)}'`
echo $TITLECASE

echo ""

echo "Replacing 'skela' with $LOWERCASE"
echo `sed -i '' "s/skela/${LOWERCASE}/" .env`
echo `sed -i '' "s/skela/${LOWERCASE}/" .env.sample`
echo `sed -i '' "s/skela/${LOWERCASE}/" composer.json`
echo `sed -i '' "s/skela/${LOWERCASE}/" composer.lock`
echo `sed -i '' "s/skela/${LOWERCASE}/" package-lock.json`
echo `sed -i '' "s/skela/${LOWERCASE}/" package.json`
echo `sed -i '' "s/skela/${LOWERCASE}/" webpack.config.js`
echo `sed -i '' "s/skela/${LOWERCASE}/" bin/composer`
echo `sed -i '' "s/skela/${LOWERCASE}/" src/Blocks/SampleBlock/sample-block.js`
echo `sed -i '' "s/skela/${LOWERCASE}/" src/Managers/ThemeManager.php`
echo `sed -i '' "s/skela/${LOWERCASE}/" templates/pages/front-page.twig`

echo "Replacing 'SKELA' with $UPPERCASE"


echo "Replacing 'Skela' with $TITLECASE"
